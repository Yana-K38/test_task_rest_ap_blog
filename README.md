# Тестовое задание backend #1 (rest api)
Blog_api - это API для онлайн-сервиса, где пользователи смогут публиковать посты, подписываться на публикации других пользователей.
### Техническое задание

##### Реализовать rest api:

1. Имеется база пользователей (добавляются через админку/swagger, регистрацию делать не надо).
2. У каждого пользователя при создании создается персональный блог. Новые создавать он не может.
3. Пост в блоге — элементарная запись с заголовком, текстом (140 символов) и временем создания. Заголовок обязательное поле.
4. Пользователь может подписываться/отписываться на блоги других пользователей (любое количество).
5. У пользователя есть персональная лента новостей (не более ~500 постов), в которой выводятся посты из блогов, на которые он подписан, в порядке добавления постов. Пагинация по 10 постов.
6. Пользователь может помечать посты в ленте прочитанными.
7. При удалении/добавлении поста, лента тоже должна изменяться
8. Раз в сутки на почту прилетает подборка из 5 последних постов ленты (можно в консоль)

В среднем пользователь подписан на 100 человек, которые постят по 2-3 раза в день.
Предполагаемое кол-во пользователей в системе около 1 млн.
Будет плюсом, если добавить дамп с большим кол-вом записей или добавить команду, которая сама генерирует большой объем данных.
Будет плюсом наличие тестов.

Требования:
Python 3.x, Django > 3.х + Drf или FastApi, Postgresql. Можно использовать Celery и Redis. 
Проект должен быть на гитхабе и отражать процесс разработки. НЕ один коммит на всё.
Код максимально приближенный к боевому (насколько получится).
Проект необходимо упаковать в докер. Запускать через docker-compose.
В проекте должно быть README с описанием запуска проекта.
Срок выполнения 1-2 дня.

### Описание 
## Использованные технологии

- Python
- Django
- Django REST framework
- Celery (для отправки писем)
- Redis (для хранения информации о прочитанных постах)
- Nginx

### Инструкция по развертыванию проекта.

1. Клонируйте репозиторий:
```
git@github.com:Yana-K38/test_task_rest_ap_blog.git
```
2. Создать файл .env в корне проекта и заполнить его всеми ключами:
```
DB_ENGINE=django.db.backends.postgresql
DB_NAME=db_blogapi
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
DB_HOST=postgres_blog
DB_PORT=5432
```
3. Собрать контейнеры:
```
cd blog_api/
docker-compose up -d --build
```
4. Сделать миграции, собрать статику и создать суперпользователя:
```
docker-compose exec  backend python manage.py makemigrations --noinput
docker-compose exec  backend python manage.py migrate --noinput
docker-compose exec  backend python manage.py collectstatic --no-input
docker-compose exec backend python manage.py createsuperuser
```
Для заполнения базы данных начальными данными модели User и Post выполните:
```
$ docker exec -e DJANGO_SETTINGS_MODULE=blog_api.settings <container backend ID> python custrom_mixer.py
```
##### После запуска проекта, документация будет доступна по адресу:
```http://127.0.0.1/swagger/```
